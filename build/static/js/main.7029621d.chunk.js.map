{"version":3,"sources":["services/personService.js","App.js","index.js"],"names":["baseUrl","personService","axios","get","then","response","data","newPerson","post","person","delete","concat","id","put","Headline","_ref","text","react_default","a","createElement","Person","_ref2","deleteHandler","name","number","onClick","Numbers","_ref3","persons","filterQuery","filter","toLowerCase","indexOf","map","App_Person","key","AddForm","_ref4","value","newName","onChange","updateNameInput","newNumber","updatePhoneInput","type","addPerson","Filter","_ref5","updateHandler","Notification","_ref6","message","messageText","mode","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilterQuery","_useState9","_useState10","setMessage","displayMessage","setTimeout","useEffect","catch","error","formData","event","target","preventDefault","personIndex","findIndex","window","confirm","personCopy","objectSpread","returnedPerson","App_Headline","App_Filter","App_Notification","App_AddForm","App_Numbers","personIterator","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.7029621d.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getPersons = () => {\r\n    return axios\r\n        .get(baseUrl)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst addPerson = (newPerson) => {\r\n    return axios\r\n        .post(baseUrl, newPerson)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (person) => {\r\n    return axios.delete(`${baseUrl}/${person.id}`)\r\n}\r\n\r\nconst updatePerson = (person) => {\r\n    return axios\r\n        .put(`${baseUrl}/${person.id}`,person)\r\n        .then(response => response.data)\r\n}\r\nexport default\r\n    {\r\n        getPersons: getPersons,\r\n        addPerson: addPerson,\r\n        deletePerson: deletePerson,\r\n        updatePerson:updatePerson\r\n    }","import React, { useState, useEffect } from 'react';\nimport personService from './services/personService';\nimport './app.css'\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterQuery, setNewFilterQuery] = useState('')\n  const [message, setMessage] = useState({ message: '', mode: 'notification' })\n\n  const displayMessage = (message, mode) => {\n    setMessage({\n      message: message,\n      mode: mode\n    });\n    setTimeout(() => setMessage({\n      message: '',\n      mode: 'notification'\n    }), 5000)\n  }\n  useEffect(() => {\n    personService\n      .getPersons()\n      .then(data => setPersons(data))\n      .catch((error) => {\n        error.response.data.error \n        ? displayMessage(error.response.data.error,'error')\n        : displayMessage(error.message,'error')\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    let personIndex = persons.findIndex(person => person.name === newName)\n    if (personIndex === -1) {\n      const newPerson = { name: newName, number: newNumber }\n      personService\n        .addPerson(newPerson)\n        .then(data => {\n          setPersons(persons.concat(data))\n          displayMessage(`Added ${data.name}`, 'notification')\n        })\n        .catch(error=>{\n          error.response.data.error \n          ? displayMessage(error.response.data.error,'error')\n          : displayMessage(error.message,'error')\n        })\n    }\n    else if (window.confirm(`Change the nuber of ${persons[personIndex].name} ?`)) {\n      let personCopy = { ...persons[personIndex], number: newNumber }\n      personService\n        .updatePerson(personCopy)\n        .then(returnedPerson => {\n          setPersons(persons.map(person =>\n            person.id !== returnedPerson.id\n              ? person\n              : returnedPerson))\n        })\n        .catch(error=>{\n          error.response.data.error \n          ? displayMessage(error.response.data.error,'error')\n          : displayMessage(error.message,'error')\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n  const deletePerson = (person) => {\n    if (window.confirm(`delete ${person.name} ?`))\n      personService\n        .deletePerson(person)\n        .then((response) => {\n          setPersons(persons.filter(personIterator => personIterator.id !== person.id))\n        })\n        .catch(error => {\n           displayMessage(error.message,'error')\n        })\n  }\n\n  const updateNameInput = (event) => setNewName(event.target.value)\n  const updatePhoneInput = (event) => setNewNumber(event.target.value)\n  const updateFilterInput = (event) => setNewFilterQuery(event.target.value)\n\n  const formData = {\n    newName: newName,\n    newNumber: newNumber,\n    updateNameInput: updateNameInput,\n    updatePhoneInput: updatePhoneInput,\n    addPerson: addPerson\n  }\n\n  return (\n    <div>\n      <Headline text='Filter' />\n      <Filter updateHandler={updateFilterInput} />\n      <Headline text='Add new' />\n      <Notification message={message} />\n      <AddForm data={formData} />\n      <Headline text='Numbers' />\n      <Numbers persons={persons} filterQuery={filterQuery} deleteHandler={deletePerson} />\n    </div>\n  );\n}\n\nconst Headline = ({ text }) => <h2>{text}</h2>\n\nconst Person = ({ person, deleteHandler }) =>\n  <div>{person.name} {person.number} <button onClick={() => { deleteHandler(person) }}>delete</button></div>\n\nconst Numbers = ({ persons, filterQuery, deleteHandler }) => {\n\n  const getPersonsUI = () => persons.filter(person =>\n    person.name.toLowerCase().indexOf(filterQuery.toLowerCase()) !== -1\n  ).map(person =>\n    <Person person={person}\n      key={person.name} deleteHandler={deleteHandler} />)\n  return (\n    <div>\n      {getPersonsUI()}\n    </div>\n  )\n}\n\nconst AddForm = ({ data }) => (\n  <form>\n    <div>\n      name: <input value={data.newName} onChange={data.updateNameInput} />\n    </div>\n    <div>\n      number: <input value={data.newNumber} onChange={data.updatePhoneInput} />\n    </div>\n    <button type='submit' onClick={data.addPerson}>add</button>\n  </form>\n)\n\nconst Filter = ({ updateHandler }) => (\n  <div>\n    filter shown with <input onChange={updateHandler} />\n  </div>\n)\n\nconst Notification = ({ message }) => {\n  let messageText = message.message;\n  let mode = message.mode;\n  if (messageText === '')\n    return null\n  else if (mode === 'error')\n    return (\n      <div className='error'>\n        {messageText}\n      </div>\n    )\n  else\n    return (\n      <div className='notification'>\n        {messageText}\n      </div>\n    )\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}