(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(39)},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(13),c=n.n(u),o=n(14),i=n(2),l=n(3),d=n.n(l),m="/api/persons",f=function(){return d.a.get(m).then(function(e){return e.data})},s=function(e){return d.a.post(m,e).then(function(e){return e.data})},p=function(e){return d.a.delete("".concat(m,"/").concat(e.id))},b=function(e){return d.a.put("".concat(m,"/").concat(e.id),e).then(function(e){return e.data})},E=(n(38),function(e){var t=e.text;return r.a.createElement("h2",null,t)}),v=function(e){var t=e.person,n=e.deleteHandler;return r.a.createElement("div",null,t.name," ",t.number," ",r.a.createElement("button",{onClick:function(){n(t)}},"delete"))},h=function(e){var t=e.persons,n=e.filterQuery,a=e.deleteHandler;return r.a.createElement("div",null,t.filter(function(e){return-1!==e.name.toLowerCase().indexOf(n.toLowerCase())}).map(function(e){return r.a.createElement(v,{person:e,key:e.name,deleteHandler:a})}))},w=function(e){var t=e.data;return r.a.createElement("form",null,r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t.newName,onChange:t.updateNameInput})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:t.newNumber,onChange:t.updatePhoneInput})),r.a.createElement("button",{type:"submit",onClick:t.addPerson},"add"))},O=function(e){var t=e.updateHandler;return r.a.createElement("div",null,"filter shown with ",r.a.createElement("input",{onChange:t}))},j=function(e){var t=e.message;return""===t?null:r.a.createElement("div",{className:"notification"},t)},g=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],u=t[1],c=Object(a.useState)(""),l=Object(i.a)(c,2),d=l[0],m=l[1],v=Object(a.useState)(""),g=Object(i.a)(v,2),C=g[0],N=g[1],x=Object(a.useState)(""),y=Object(i.a)(x,2),H=y[0],I=y[1],k=Object(a.useState)(""),S=Object(i.a)(k,2),P=S[0],A=S[1];Object(a.useEffect)(function(){f().then(function(e){return u(e)}).catch(function(e){alert(e)})},[]);var J={newName:d,newNumber:C,updateNameInput:function(e){return m(e.target.value)},updatePhoneInput:function(e){return N(e.target.value)},addPerson:function(e){e.preventDefault();var t=n.findIndex(function(e){return e.name===d});if(-1===t)s({name:d,number:C}).then(function(e){u(n.concat(e)),A("Added ".concat(e.name)),setTimeout(function(){return A("")},5e3)}).catch(function(e){return alert(e)});else if(window.confirm("Change the nuber of ".concat(n[t].name," ?"))){var a=Object(o.a)({},n[t],{number:C});b(a).then(function(e){u(n.map(function(t){return t.id!==e.id?t:e}))})}m(""),N("")}};return r.a.createElement("div",null,r.a.createElement(E,{text:"Filter"}),r.a.createElement(O,{updateHandler:function(e){return I(e.target.value)}}),r.a.createElement(E,{text:"Add new"}),r.a.createElement(j,{message:P}),r.a.createElement(w,{data:J}),r.a.createElement(E,{text:"Numbers"}),r.a.createElement(h,{persons:n,filterQuery:H,deleteHandler:function(e){window.confirm("delete ".concat(e.name," ?"))&&p(e).then(function(t){u(n.filter(function(t){return t.id!==e.id}))}).catch(function(t){alert("".concat(e.name," has already been deleted"))})}}))};c.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.952fc9ea.chunk.js.map