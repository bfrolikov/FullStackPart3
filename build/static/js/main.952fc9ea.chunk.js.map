{"version":3,"sources":["services/personService.js","App.js","index.js"],"names":["baseUrl","personService","axios","get","then","responce","data","newPerson","post","person","delete","concat","id","put","Headline","_ref","text","react_default","a","createElement","Person","_ref2","deleteHandler","name","number","onClick","Numbers","_ref3","persons","filterQuery","filter","toLowerCase","indexOf","map","App_Person","key","AddForm","_ref4","value","newName","onChange","updateNameInput","newNumber","updatePhoneInput","type","addPerson","Filter","_ref5","updateHandler","Notification","_ref6","message","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilterQuery","_useState9","_useState10","setMessage","useEffect","catch","e","alert","formData","event","target","preventDefault","personIndex","findIndex","setTimeout","window","confirm","personCopy","objectSpread","returnedPerson","App_Headline","App_Filter","App_Notification","App_AddForm","App_Numbers","personIterator","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.952fc9ea.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getPersons = () => {\r\n    return axios\r\n        .get(baseUrl)\r\n        .then(responce => responce.data)\r\n}\r\n\r\nconst addPerson = (newPerson) => {\r\n    return axios\r\n        .post(baseUrl, newPerson)\r\n        .then(responce => responce.data)\r\n}\r\n\r\nconst deletePerson = (person) => {\r\n    return axios.delete(`${baseUrl}/${person.id}`)\r\n}\r\n\r\nconst updatePerson = (person) => {\r\n    return axios\r\n        .put(`${baseUrl}/${person.id}`,person)\r\n        .then(responce => responce.data)\r\n}\r\nexport default\r\n    {\r\n        getPersons: getPersons,\r\n        addPerson: addPerson,\r\n        deletePerson: deletePerson,\r\n        updatePerson:updatePerson\r\n    }","import React, { useState, useEffect } from 'react';\nimport personService from './services/personService';\nimport './app.css'\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterQuery, setNewFilterQuery] = useState('')\n  const [message,setMessage] = useState('')\n\n  useEffect(() => {\n    personService\n      .getPersons()\n      .then(data => setPersons(data))\n      .catch((e) => {\n        alert(e)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    let personIndex = persons.findIndex(person => person.name === newName)\n    if (personIndex === -1) {\n      const newPerson = { name: newName, number: newNumber }\n      personService\n        .addPerson(newPerson)\n        .then(data => {\n          setPersons(persons.concat(data))\n          setMessage(`Added ${data.name}`)\n          setTimeout(()=>setMessage(''),5000)\n        })\n        .catch(e => alert(e))\n    }\n    else if (window.confirm(`Change the nuber of ${persons[personIndex].name} ?`)) {\n      let personCopy = { ...persons[personIndex], number: newNumber }\n      personService\n        .updatePerson(personCopy)\n        .then(returnedPerson => {\n          setPersons(persons.map(person =>\n            person.id !== returnedPerson.id\n              ? person\n              : returnedPerson))\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n  const deletePerson = (person) => {\n    if (window.confirm(`delete ${person.name} ?`))\n      personService\n        .deletePerson(person)\n        .then((responce) => {\n          setPersons(persons.filter(personIterator => personIterator.id !== person.id))\n        })\n        .catch(e => {\n          alert(`${person.name} has already been deleted`)\n        })\n  }\n\n  const updateNameInput = (event) => setNewName(event.target.value)\n  const updatePhoneInput = (event) => setNewNumber(event.target.value)\n  const updateFilterInput = (event) => setNewFilterQuery(event.target.value)\n\n  const formData = {\n    newName: newName,\n    newNumber: newNumber,\n    updateNameInput: updateNameInput,\n    updatePhoneInput: updatePhoneInput,\n    addPerson: addPerson\n  }\n\n  return (\n    <div>\n      <Headline text='Filter' />\n      <Filter updateHandler={updateFilterInput} />\n      <Headline text='Add new' />\n      <Notification message={message}/>\n      <AddForm data={formData} />\n      <Headline text='Numbers' />\n      <Numbers persons={persons} filterQuery={filterQuery} deleteHandler={deletePerson} />\n    </div>\n  );\n}\n\nconst Headline = ({ text }) => <h2>{text}</h2>\n\nconst Person = ({ person, deleteHandler }) =>\n  <div>{person.name} {person.number} <button onClick={() => { deleteHandler(person) }}>delete</button></div>\n\nconst Numbers = ({ persons, filterQuery, deleteHandler }) => {\n\n  const getPersonsUI = () => persons.filter(person =>\n    person.name.toLowerCase().indexOf(filterQuery.toLowerCase()) !== -1\n  ).map(person =>\n    <Person person={person}\n      key={person.name} deleteHandler={deleteHandler} />)\n  return (\n    <div>\n      {getPersonsUI()}\n    </div>\n  )\n}\n\nconst AddForm = ({ data }) => (\n  <form>\n    <div>\n      name: <input value={data.newName} onChange={data.updateNameInput} />\n    </div>\n    <div>\n      number: <input value={data.newNumber} onChange={data.updatePhoneInput} />\n    </div>\n    <button type='submit' onClick={data.addPerson}>add</button>\n  </form>\n)\n\nconst Filter = ({ updateHandler }) => (\n  <div>\n    filter shown with <input onChange={updateHandler} />\n  </div>\n)\n\nconst Notification = ({ message }) => {\n  if (message === '')\n    return null\n  else\n    return (\n      <div className='notification'>\n        {message}\n      </div>\n    )\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}